<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="utf-8" />
<title>Client connecté</title>
<link rel="stylesheet" type="text/css"
	href="/ufcm/src/main/resources/static/css/bootstrap.min.css"
	th:href="@{css/bootstrap.min.css}" />
<link rel="stylesheet"
	href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body>

	<br />
	<div class="container">
		<div class="panel panel-primary">
			<div class="panel-heading">
				<h2>
					Page de connexion réussit 22 <br>

				</h2>
				<h2 th:text="${username}"></h2>
			</div>

			<br>
			<div th:switch="${isAdmin}">
				<div th:case="${true}">
					<p>Cet utilisateur est un ADMIN</p>
					<img alt="Logo de l'administrateur" src="img/avatarCV.png">
				</div>
				<p th:case="*">Utilisateur</p>
			</div>

			<br />

		</div>
		<div>
			<h4>Les commandes de cet utilisateur</h4>
			<table class="table">
				<thead class="thead-dark">
					<tr>
						<th scope="col">id_commande</th>
						<th scope="col">date</th>
						<th scope="col">produit</th>
						<th scope="col">nombre</th>
						<th scope="col">prix</th>
						<th scope="col">total</th>
					</tr>
				</thead>
				<tbody>
					<tr th:each="cmd:${listCmd}">
						<td th:text="${cmd.id_commande}"></td>
						<td th:text="${cmd.date}"></td>
						<td th:text="${cmd.produit}"></td>
						<td th:text="${cmd.nombre}"></td>
						<td th:text="${cmd.prix} + '€'"></td>
						<td th:text="${cmd.getTotal()}"></td>
					</tr>

				</tbody>
			</table>
		</div>
		<div th:switch="${isAdmin}">
			<div th:case="${true}">
				<h4>Les commandes des autres utilisateurs</h4>
				<table class="table">
					<thead class="thead-dark">
						<tr>
							<th scope="col">id_commande</th>
							<th scope="col">date</th>
							<th scope="col">produit</th>
							<th scope="col">nombre</th>
							<th scope="col">prix</th>
							<th scope="col">total</th>
						</tr>
					</thead>
					<tbody>
						<tr th:each="cmd:${listCmdAutres}">
							<td th:text="${cmd.id_commande}"></td>
							<td th:text="${cmd.date}"></td>
							<td th:text="${cmd.produit}"></td>
							<td th:text="${cmd.nombre}"></td>
							<td th:text="${cmd.prix} + '€'"></td>
							<td th:text="${cmd.getTotal()}"></td>
						</tr>
					</tbody>
				</table>

			</div>
			<p th:case="*"></p>
		</div>
		<div class="mx-4 row">
			<div class="col-5">
				<div class="text-left">
					<a th:href="@{login2}" class="my-3 btn btn-primary"
						style="width: 100%;">Retour</a>
				</div>
			</div>
		</div>
	</div>

</body>
</html>